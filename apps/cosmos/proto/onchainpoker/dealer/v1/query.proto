syntax = "proto3";

package onchainpoker.dealer.v1;

option go_package = "x/dealer/types";
option (gogoproto.equal_all) = true;

import "gogoproto/gogo.proto";
import "cosmos/query/v1/query.proto";
import "google/api/annotations.proto";

import "onchainpoker/dealer/v1/dealer.proto";

service Query {
  rpc Params(QueryParamsRequest) returns (QueryParamsResponse) {
    option (google.api.http).get = "/onchainpoker/dealer/v1/params";
  }
  rpc Epoch(QueryEpochRequest) returns (QueryEpochResponse) {
    option (google.api.http).get = "/onchainpoker/dealer/v1/epoch";
  }
  rpc Dkg(QueryDkgRequest) returns (QueryDkgResponse) {
    option (google.api.http).get = "/onchainpoker/dealer/v1/dkg";
  }
  rpc Hand(QueryHandRequest) returns (QueryHandResponse) {
    option (google.api.http).get = "/onchainpoker/dealer/v1/tables/{table_id}/hands/{hand_id}";
  }
}

message QueryParamsRequest {}

message QueryParamsResponse {
  Params params = 1 [(gogoproto.nullable) = false];
}

message QueryEpochRequest {}

message QueryEpochResponse {
  DealerEpoch epoch = 1 [(gogoproto.nullable) = true];
}

message QueryDkgRequest {}

message QueryDkgResponse {
  DealerDKG dkg = 1 [(gogoproto.nullable) = true];
}

message QueryHandRequest {
  uint64 table_id = 1;
  uint64 hand_id = 2;
}

message QueryHandResponse {
  DealerHand hand = 1 [(gogoproto.nullable) = true];
}
